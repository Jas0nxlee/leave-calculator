# 用户故事 - 离职员工剩余年假计算程序

## 用户角色定义
- **HR专员**: 负责处理员工离职手续的人力资源工作人员
- **系统管理员**: 负责维护和配置企业微信API的技术人员

## 核心用户故事

### 故事1: 查询员工剩余年假
**作为** HR专员  
**我希望** 能够通过输入员工姓名和离职日期  
**以便于** 快速准确地计算出该员工的剩余年假天数

**验收标准:**
- 可以在GUI界面输入员工姓名
- 可以选择或输入离职日期
- 点击计算按钮后显示剩余年假天数
- 计算结果精确到小数点后2位

### 故事2: 自动获取假期数据
**作为** HR专员  
**我希望** 系统能够自动从企业微信获取员工的假期余额信息  
**以便于** 避免手动查询和输入错误

**验收标准:**
- 系统自动调用企业微信API
- 获取员工2025年年假的已用时长和实际剩余时长
- 如果员工不存在，显示友好的错误提示
- API调用失败时有重试机制

### 故事3: 智能年假计算
**作为** HR专员  
**我希望** 系统能够根据离职日期智能计算应得年假比例  
**以便于** 确保年假计算的公平性和准确性

**验收标准:**
- 计算从1月1日到离职日期的天数比例
- 考虑闰年情况（2024年为闰年）
- 使用公式：理论时长 × 时间比例 - 已用时长
- 结果不能为负数

### 故事4: 错误处理和用户反馈
**作为** HR专员  
**我希望** 当输入错误或系统异常时能够得到清晰的提示  
**以便于** 快速定位问题并采取相应措施

**验收标准:**
- 员工姓名为空时提示用户
- 离职日期格式错误时提示用户
- 离职日期超过当前日期时提示用户
- API调用失败时显示具体错误信息
- 网络连接问题时给出友好提示

### 故事5: 数据清空和重置
**作为** HR专员  
**我希望** 能够快速清空当前输入的数据  
**以便于** 处理下一个员工的年假计算

**验收标准:**
- 点击清空按钮清除所有输入字段
- 清空计算结果显示区域
- 重置后光标定位到员工姓名输入框

## 边界场景用户故事

### 故事6: 特殊日期处理
**作为** HR专员  
**我希望** 系统能够正确处理特殊日期情况  
**以便于** 确保计算结果的准确性

**验收标准:**
- 正确处理闰年2月29日
- 正确处理年末12月31日离职
- 正确处理年初1月1日离职
- 正确处理当天离职的情况

### 故事7: 系统配置管理
**作为** 系统管理员  
**我希望** 能够通过配置文件管理企业微信API参数  
**以便于** 在不修改代码的情况下更新配置

**验收标准:**
- .env文件包含所有必要的API配置
- 配置文件格式清晰易懂
- 配置错误时有明确的错误提示
- 支持配置文件热更新（重启程序生效）

## 用户体验故事

### 故事8: 界面友好性
**作为** HR专员  
**我希望** 程序界面简洁美观，操作直观  
**以便于** 提高工作效率和使用体验

**验收标准:**
- 界面布局合理，字段标签清晰
- 按钮大小适中，点击区域足够
- 颜色搭配舒适，不刺眼
- 支持键盘快捷操作（如Enter键计算）

### 故事9: 计算过程透明化
**作为** HR专员  
**我希望** 能够了解年假计算的详细过程  
**以便于** 向员工解释计算结果的合理性

**验收标准:**
- 显示理论时长、已用时长、时间比例等中间结果
- 提供计算公式说明
- 可选择显示详细计算步骤
- 支持计算结果的导出或打印