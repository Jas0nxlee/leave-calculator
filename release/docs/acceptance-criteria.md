# 验收标准 - 离职员工剩余年假计算程序

## 1. 功能验收标准

### 1.1 GUI界面验收
**标准编号**: AC-GUI-001  
**验收条件**:
- [ ] 程序启动后显示主窗口，窗口大小适中（建议800x600像素）
- [ ] 包含"员工姓名"文本输入框，支持中文输入
- [ ] 包含"离职日期"输入框，支持日期格式YYYY-MM-DD
- [ ] 包含"剩余年假天数"只读显示框
- [ ] 包含"计算"、"清空"、"退出"三个功能按钮
- [ ] 界面布局美观，控件对齐，字体大小适中

**测试方法**: 手动UI测试  
**预期结果**: 所有界面元素正常显示和响应

### 1.2 数据输入验证
**标准编号**: AC-INPUT-001  
**验收条件**:
- [ ] 员工姓名不能为空，空值时显示错误提示
- [ ] 离职日期必须为有效日期格式
- [ ] 离职日期不能超过当前日期
- [ ] 离职日期不能早于2025年1月1日
- [ ] 输入验证失败时，光标定位到错误字段

**测试数据**:
```
有效输入: 张三, 2025-06-15
无效输入: "", 2025-13-32, 2026-01-01, 2024-12-31
```

### 1.3 企业微信API集成验收
**标准编号**: AC-API-001  
**验收条件**:
- [ ] 成功读取.env文件中的API配置
- [ ] 能够获取有效的Access Token
- [ ] 通过员工姓名查询到员工ID
- [ ] 获取员工2025年年假的已用时长和实际剩余时长
- [ ] API调用失败时有适当的错误处理和用户提示

**测试场景**:
- 正常API调用
- 网络连接失败
- API认证失败
- 员工不存在
- 假期数据不存在

## 2. 计算算法验收标准

### 2.1 年假计算准确性
**标准编号**: AC-CALC-001  
**验收条件**:
- [ ] 正确计算理论时长 = 已用时长 + 实际剩余时长
- [ ] 正确计算时间比例 = (1月1日至离职日期天数) / 当年总天数
- [ ] 正确计算剩余年假 = 理论时长 × 时间比例 - 已用时长
- [ ] 计算结果保留2位小数
- [ ] 计算结果不能为负数（最小值为0）

**测试用例**:
```
测试用例1:
- 理论时长: 120小时
- 已用时长: 40小时
- 离职日期: 2025-06-15 (第166天)
- 预期结果: 120 × (166/365) - 40 = 14.52小时

测试用例2:
- 理论时长: 80小时
- 已用时长: 70小时
- 离职日期: 2025-03-31 (第90天)
- 预期结果: max(0, 80 × (90/365) - 70) = 0小时
```

### 2.2 特殊日期处理
**标准编号**: AC-DATE-001  
**验收条件**:
- [ ] 正确处理2025年（平年）的天数计算
- [ ] 正确处理年初离职（1月1日）
- [ ] 正确处理年末离职（12月31日）
- [ ] 正确处理当天离职的情况

## 3. 性能验收标准

### 3.1 响应时间要求
**标准编号**: AC-PERF-001  
**验收条件**:
- [ ] GUI界面响应时间 < 1秒
- [ ] API调用响应时间 < 5秒
- [ ] 年假计算响应时间 < 0.5秒
- [ ] 程序启动时间 < 3秒

**测试方法**: 性能测试工具或手动计时

### 3.2 资源使用要求
**标准编号**: AC-RESOURCE-001  
**验收条件**:
- [ ] 内存使用 < 100MB
- [ ] CPU使用率 < 10%（空闲状态）
- [ ] 磁盘空间占用 < 50MB

## 4. 安全验收标准

### 4.1 数据安全
**标准编号**: AC-SEC-001  
**验收条件**:
- [ ] API密钥存储在.env文件中，不在代码中硬编码
- [ ] .env文件添加到.gitignore，不提交到版本控制
- [ ] 输入数据进行适当的清理和验证
- [ ] 错误信息不暴露敏感的API信息

### 4.2 输入安全
**标准编号**: AC-SEC-002  
**验收条件**:
- [ ] 防止SQL注入（如果使用数据库）
- [ ] 防止XSS攻击（输入清理）
- [ ] 限制输入长度，防止缓冲区溢出
- [ ] 验证所有用户输入

## 5. 可用性验收标准

### 5.1 用户体验
**标准编号**: AC-UX-001  
**验收条件**:
- [ ] 错误提示信息清晰易懂
- [ ] 操作流程直观，无需培训即可使用
- [ ] 支持键盘快捷操作（Tab键切换，Enter键确认）
- [ ] 程序异常时能够优雅降级，不崩溃

### 5.2 错误处理
**标准编号**: AC-ERROR-001  
**验收条件**:
- [ ] 所有可能的异常都有相应的处理机制
- [ ] 错误提示具体且有指导性
- [ ] 网络错误时提供重试选项
- [ ] 程序崩溃时能够记录错误日志

## 6. 兼容性验收标准

### 6.1 系统兼容性
**标准编号**: AC-COMPAT-001  
**验收条件**:
- [ ] 支持Windows 10/11
- [ ] 支持macOS 10.15+
- [ ] 支持主流Linux发行版
- [ ] Python 3.8+环境下正常运行

### 6.2 依赖兼容性
**标准编号**: AC-DEP-001  
**验收条件**:
- [ ] 所有依赖包版本明确指定
- [ ] requirements.txt文件完整
- [ ] 依赖包无安全漏洞
- [ ] 支持离线安装（可选）

## 7. 文档验收标准

### 7.1 用户文档
**标准编号**: AC-DOC-001  
**验收条件**:
- [ ] 包含完整的安装说明
- [ ] 包含详细的使用指南
- [ ] 包含常见问题解答
- [ ] 包含API配置说明

### 7.2 技术文档
**标准编号**: AC-TECH-001  
**验收条件**:
- [ ] 代码注释覆盖率 > 80%
- [ ] 包含架构设计文档
- [ ] 包含API接口文档
- [ ] 包含部署指南

## 验收流程

1. **开发完成**: 开发团队提交代码和文档
2. **自测验证**: 开发团队按照验收标准进行自测
3. **功能测试**: QA团队执行功能测试用例
4. **性能测试**: 执行性能和压力测试
5. **安全测试**: 执行安全漏洞扫描
6. **用户验收**: 最终用户进行验收测试
7. **文档审查**: 审查所有交付文档的完整性
8. **验收签字**: 所有标准通过后正式验收